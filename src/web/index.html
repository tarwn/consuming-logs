<!DOCTYPE html>
<html>
<head>
  <title>My first Vue app</title>
  <script src="https://unpkg.com/vue"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script> 
</head>
<body>
  <div id="app">
    <div id="container">
      <ol>
        <li v-for="event in eventsDesc">
          {{ JSON.stringify(event) }}
        </li>
      </ol>
    </div>
  </div>

  <script>
    var events = [];
    var app = new Vue({
      el: '#app',
      data: {
        events: events
      },
      methods: {
        addEvent(event){
          this.events.push(event);
        }
      },
      computed: {
        eventsDesc: function(){
          return this.events.slice().reverse();
        }
      }
    });
  </script>
  <script>  
      var socket = io.connect('http://localhost:8082');
      socket.on('connect', function(data) {
          socket.emit('join', 'Hello World from client');
      });
      socket.on('event', function(data) {
        app.addEvent(data);
        console.log(data);
      });
  </script>
</body>
</html>
